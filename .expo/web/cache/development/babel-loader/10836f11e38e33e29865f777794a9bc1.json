{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/abubakarakram/development/projects/backup bar peakk/client/src/screens/LoginScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Spinner from 'react-native-loading-spinner-overlay';\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport FaceBookComponent from \"../components/facebookComponent\";\nimport { storeUserData } from \"../components/localStorage\";\nimport axios from \"../api/axios\";\nimport { getUser } from \"../../redux/actions/User\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport AlertComponent from \"../components/AlertComponent\";\nimport * as Animatable from 'react-native-animatable';\nimport { KeyboardAwareView } from 'react-native-keyboard-aware-view';\nimport BottomDarawer from \"../components/BottomDarawer\";\nimport LoginSignupModal from \"../components/ModalLogInSignUp\";\n\nvar LoginScreen = function (_React$Component) {\n  _inherits(LoginScreen, _React$Component);\n\n  var _super = _createSuper(LoginScreen);\n\n  function LoginScreen(props) {\n    var _this;\n\n    _classCallCheck(this, LoginScreen);\n\n    _this = _super.call(this, props);\n\n    _this.authenticateUser = function () {\n      _this.setState({\n        spinner: true\n      });\n\n      var navigation = _this.props.navigation;\n      var body = {\n        query: \"\\n      query{\\n        login(email: \\\"\" + _this.state.username + \"\\\", password: \\\"\" + _this.state.password + \"\\\")\\n        {\\n          token,\\n          user{\\n            _id\\n            firstName\\n            radius\\n            lastName\\n            email\\n            dob\\n            profilePic\\n            gender\\n            accountType\\n          }\\n        }\\n      }\\n      \"\n      };\n      axios.post(\"graphql?\", body).then(function (res) {\n        if (res.data.data.login) {\n          console.log(\"the data\", res.data.data.login);\n          storeUserData(res.data.data.login).then(function _callee() {\n            var user;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _this.setState({\n                      spinner: false\n                    });\n\n                    _context.next = 3;\n                    return _regeneratorRuntime.awrap(_this.props.getUser());\n\n                  case 3:\n                    user = _context.sent;\n                    if (user === 'ok') navigation.navigate('HomeApp');\n\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          });\n        }\n      }).catch(function (err) {\n        var errors = err.response.data.errors;\n        var message = errors[0].message;\n\n        _this.setState({\n          spinner: false,\n          message: message,\n          showError: true\n        });\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      spinner: false,\n      showModal: true,\n      showError: false,\n      showAnimatedTextFadeIn: true,\n      showAnimatedTextFadeOut: false,\n      showSignUpModal: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginScreen, [{\n    key: \"ActivityIndicatorLoadingView\",\n    value: function ActivityIndicatorLoadingView() {\n      return React.createElement(ActivityIndicator, {\n        color: \"#009688\",\n        size: \"large\",\n        style: styles.ActivityIndicatorStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 7\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.setState({\n          showAnimatedTextFadeIn: false\n        }, function () {\n          _this2.setState({\n            showAnimatedTextFadeOut: true\n          }, function () {\n            setTimeout(function () {\n              _this2.setState({\n                showModal: false\n              }, function () {\n                _this2.setState({\n                  showSignUpModal: true\n                });\n              });\n            }, 2000);\n          });\n        });\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var navigation = this.props.navigation;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 7\n        }\n      }, React.createElement(Modal, {\n        visible: this.state.showModal,\n        animationType: \"fade\",\n        presentationStyle: \"overFullScreen\",\n        transparent: true,\n        startInLoadingState: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.modal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.modalContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, this.state.showAnimatedTextFadeIn && React.createElement(Animatable.Text, {\n        duration: 3000,\n        style: {\n          fontSize: 30,\n          fontWeight: '700',\n          color: \"#3c6e55\"\n        },\n        animation: \"fadeInLeftBig\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 56\n        }\n      }, \"Welcome to BarPeak\"), this.state.showAnimatedTextFadeOut && React.createElement(Animatable.Text, {\n        duration: 3000,\n        style: {\n          fontSize: 30,\n          fontWeight: '700',\n          color: \"#3c6e55\"\n        },\n        animation: \"fadeOut\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 57\n        }\n      }, \"Welcome to BarPeak\"))))), React.createElement(Image, {\n        style: styles.ImageLogo,\n        source: {\n          uri: \"https://i.pinimg.com/originals/89/89/7a/89897a8a430fdc2ca10b14f579dc3551.png\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.loginContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.SignUpBtn,\n        onPress: function onPress() {\n          return _this3.setState({\n            showSignUpModal: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.loginText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, \"SignUp / LOGIN\"))), React.createElement(Spinner, {\n        visible: this.state.spinner,\n        textContent: 'Loading...',\n        textStyle: styles.spinnerTextStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      }), React.createElement(AlertComponent, {\n        showError: this.state.showError,\n        message: this.state.message,\n        closeModal: function closeModal() {\n          return _this3.setState({\n            showError: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }\n      }), React.createElement(LoginSignupModal, {\n        showModal: this.state.showSignUpModal,\n        navigation: this.props.navigation,\n        onCloseModalSignUp: function onCloseModalSignUp() {\n          return _this3.setState({\n            showSignUpModal: false\n          });\n        },\n        onNavigateSignUpScreen: function onNavigateSignUpScreen(phoneNumber) {\n          return _this3.props.navigation.navigate(\"SignUpScreen\", {\n            phoneNumber: phoneNumber\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return LoginScreen;\n}(React.Component);\n\nLoginScreen.options = {\n  tabBarVisible: false\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getUser: getUser\n  }, dispatch);\n};\n\nexport default connect(null, mapDispatchToProps)(LoginScreen);\nvar styles = StyleSheet.create({\n  loginContainer: {\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 0,\n    flex: 1\n  },\n  socialIcons: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '80%',\n    height: 50,\n    borderWidth: 1,\n    marginTop: 20\n  },\n  emailView: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  sendEmailBtn: {\n    width: '30%',\n    height: '30%',\n    backgroundColor: \"#fb5b5a\",\n    borderRadius: 25,\n    marginTop: 20,\n    marginBottom: 10,\n    paddingTop: 5\n  },\n  loginText: {\n    color: 'white',\n    fontSize: 15\n  },\n  signUpText: {\n    color: 'white',\n    fontSize: 15\n  },\n  inputForgotPasswordView: {\n    width: \"80%\",\n    backgroundColor: \"#465881\",\n    borderRadius: 25,\n    height: 50,\n    marginLeft: '10%',\n    marginTop: '20%',\n    justifyContent: \"center\",\n    alignItems: 'center',\n    padding: 20\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    margin: 0\n  },\n  logo: {\n    fontWeight: \"bold\",\n    fontSize: 50,\n    color: \"#fb5b5a\",\n    marginBottom: 40\n  },\n  inputView: {\n    backgroundColor: \"white\",\n    borderWidth: 1,\n    marginBottom: 10,\n    borderColor: '#C5C3C2',\n    justifyContent: \"center\",\n    padding: 10\n  },\n  inputText: {\n    height: 20,\n    color: \"black\"\n  },\n  forgot: {\n    color: \"#D83F68\",\n    fontSize: 17,\n    marginTop: 10\n  },\n  loginBtn: {\n    width: \"80%\",\n    backgroundColor: \"#5ED666\",\n    height: 40,\n    color: 'white',\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    marginBottom: 10,\n    borderRadius: 6\n  },\n  SignUpBtn: {\n    width: \"80%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 0,\n    paddingTop: 20,\n    paddingBottom: 20,\n    marginTop: 40,\n    color: 'white',\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    backgroundColor: \"#D83F68\"\n  },\n  SignUpText: {\n    color: \"white\",\n    fontSize: 17\n  },\n  ImageLogo: {\n    width: '100%',\n    height: '45%',\n    marginBottom: \"10%\",\n    backgroundColor: 'white',\n    marginTop: 0\n  },\n  spinnerTextStyle: {\n    color: '#FFF'\n  },\n  modal: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    marginTop: '23%'\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    width: '100%',\n    height: '30%',\n    justifyContent: 'center'\n  },\n  ActivityIndicatorStyle: {\n    flex: 1,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/abubakarakram/development/projects/backup bar peakk/client/src/screens/LoginScreen.js"],"names":["React","Spinner","Icon","FaceBookComponent","storeUserData","axios","getUser","connect","bindActionCreators","AlertComponent","Animatable","KeyboardAwareView","BottomDarawer","LoginSignupModal","LoginScreen","props","authenticateUser","setState","spinner","navigation","body","query","state","username","password","post","then","res","data","login","console","log","user","navigate","catch","err","errors","response","message","showError","showModal","showAnimatedTextFadeIn","showAnimatedTextFadeOut","showSignUpModal","styles","ActivityIndicatorStyle","setTimeout","container","modal","modalContainer","justifyContent","alignItems","fontSize","fontWeight","color","ImageLogo","uri","loginContainer","SignUpBtn","loginText","spinnerTextStyle","phoneNumber","Component","options","tabBarVisible","mapDispatchToProps","dispatch","StyleSheet","create","width","borderWidth","flex","socialIcons","flexDirection","height","marginTop","emailView","sendEmailBtn","backgroundColor","borderRadius","marginBottom","paddingTop","signUpText","inputForgotPasswordView","marginLeft","padding","margin","logo","inputView","borderColor","inputText","forgot","loginBtn","paddingBottom","SignUpText"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, Image, ScrollView, ActivityIndicator, Modal, Button } from 'react-native';\nimport Spinner from 'react-native-loading-spinner-overlay';\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\nimport FaceBookComponent from '../components/facebookComponent';\nimport {storeUserData} from '../components/localStorage';\nimport axios from '../api/axios';\nimport { getUser } from '../../redux/actions/User';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport AlertComponent from '../components/AlertComponent';\nimport * as Animatable from 'react-native-animatable';\nimport { KeyboardAwareView } from 'react-native-keyboard-aware-view'\nimport BottomDarawer from  \"../components/BottomDarawer\";\nimport LoginSignupModal from \"../components/ModalLogInSignUp\"; \n\n\n class LoginScreen extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      username:\"\",\n      password:\"\",\n      spinner: false,\n      showModal: true,\n      showError: false,\n      showAnimatedTextFadeIn: true,\n      showAnimatedTextFadeOut: false,\n      showSignUpModal: false\n    }\n  }\n\n  ActivityIndicatorLoadingView() {\n    return (\n      <ActivityIndicator\n         color=\"#009688\"\n         size=\"large\"\n         style={styles.ActivityIndicatorStyle}\n      />\n    );\n  }\n\n  authenticateUser = () =>{\n    this.setState({ spinner: true })\n    const {navigation} = this.props;\n    \n    const body = {\n      query:`\n      query{\n        login(email: \"${this.state.username}\", password: \"${this.state.password}\")\n        {\n          token,\n          user{\n            _id\n            firstName\n            radius\n            lastName\n            email\n            dob\n            profilePic\n            gender\n            accountType\n          }\n        }\n      }\n      `\n    }\n\n    \n    axios.post(`graphql?`,body).then((res)=>{\n      if(res.data.data.login){\n        console.log(\"the data\", res.data.data.login)\n        storeUserData(res.data.data.login).then(async() => {\n          this.setState({ spinner: false });\n          const user = await this.props.getUser();\n          if(user === 'ok')\n            navigation.navigate('HomeApp');\n        })\n      }\n    }).catch(err => {\n        const {errors} =  err.response.data; \n        const { message } = errors[0]; \n        this.setState({ spinner: false, message, showError: true })\n    })\n      \n  }\n\n  componentDidMount(){\n    setTimeout(()=>{\n      this.setState({ showAnimatedTextFadeIn: false },()=>{\n        this.setState({ showAnimatedTextFadeOut: true }, ()=>{\n          setTimeout(()=>{\n            this.setState({ showModal: false }, ()=> {\n              this.setState({ showSignUpModal: true })\n            })\n          }, 2000)\n        })\n      })\n    }, 2000)\n  }\n\n  static options = {\n    tabBarVisible: false,\n  }\n\n  render(){\n    const {navigation} = this.props;\n    return (\n      <View style={styles.container}>\n        <Modal\n          visible={this.state.showModal}\n          animationType=\"fade\"\n          presentationStyle=\"overFullScreen\"\n          transparent={true}\n          startInLoadingState={true}\n        >\n          <View style={ styles.modal }>\n            <View style={styles.modalContainer}>\n              <View \n                style = {{ justifyContent: 'center', alignItems: 'center' }} \n              >\n                { this.state.showAnimatedTextFadeIn && <Animatable.Text duration = {3000} style = {{ fontSize: 30,fontWeight: '700', color: \"#3c6e55\" }} animation=\"fadeInLeftBig\">Welcome to BarPeak</Animatable.Text> }\n                { this.state.showAnimatedTextFadeOut && <Animatable.Text duration = {3000} style = {{ fontSize: 30,fontWeight: '700', color: \"#3c6e55\" }}  animation=\"fadeOut\">Welcome to BarPeak</Animatable.Text> }\n              </View>\n            </View>\n          </View>\n        </Modal> \n       \n        <Image style = { styles.ImageLogo }  source = {{ uri: \"https://i.pinimg.com/originals/89/89/7a/89897a8a430fdc2ca10b14f579dc3551.png\" }}  />\n \n        <View style = {styles.loginContainer} >\n          {/* <TouchableOpacity style={styles.SignUpBtn} onPress = { ()=>{ this.props.navigation.navigate(\"SignUpScreen\") } } >\n            <Text style={styles.SignUpText}>Signup Test</Text>\n          </TouchableOpacity> */}\n          <TouchableOpacity \n            style={styles.SignUpBtn} \n            onPress = { ()=> this.setState({ showSignUpModal: true })  } \n          >\n            <Text style={styles.loginText}>SignUp / LOGIN</Text>\n          </TouchableOpacity>\n        </View>\n        <Spinner\n          visible={this.state.spinner}\n          textContent={'Loading...'}\n          textStyle={styles.spinnerTextStyle}\n        />\n        <AlertComponent \n          showError = {this.state.showError}  \n          message = {this.state.message} \n          closeModal = { ()=> this.setState({ showError: false  }) }  \n        />\n        <LoginSignupModal \n          showModal = {this.state.showSignUpModal}  \n          navigation = {this.props.navigation} \n          onCloseModalSignUp = {()=> this.setState({ showSignUpModal: false })}\n          onNavigateSignUpScreen = {(phoneNumber)=> this.props.navigation.navigate(\"SignUpScreen\", {phoneNumber}) }\n        />\n      </View>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => (\n  bindActionCreators({\n    getUser\n  }, dispatch)\n);\n\nexport default connect(null, mapDispatchToProps)(LoginScreen);\n\nconst styles = StyleSheet.create({\n  \n  loginContainer:{ \n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 0,\n    flex:1\n  },\n  socialIcons: {\n    flexDirection: 'row',\n    justifyContent: 'center', \n    alignItems: 'center',\n    width: '80%',\n    height: 50,\n    borderWidth: 1,\n    marginTop: 20 \n  },\n  emailView:{\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  sendEmailBtn:{\n    width: '30%',\n    height: '30%',\n    backgroundColor:\"#fb5b5a\",\n    borderRadius:25,\n    marginTop:20,\n    marginBottom:10,\n    paddingTop: 5\n  },\n  loginText:{\n    color: 'white',\n    fontSize: 15\n  },\n  signUpText:{\n    color: 'white',\n    fontSize: 15\n  },\n  inputForgotPasswordView: {\n    width:\"80%\",\n    backgroundColor:\"#465881\",\n    borderRadius:25,\n    height:50,\n    marginLeft: '10%',\n    marginTop: '20%',\n    justifyContent:\"center\",\n    alignItems: 'center',\n    padding:20\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    margin: 0\n  },\n  logo:{\n    fontWeight:\"bold\",\n    fontSize:50,\n    color:\"#fb5b5a\",\n    marginBottom:40\n  },\n  inputView:{\n    backgroundColor:\"white\",\n    borderWidth: 1,\n    marginBottom:10,\n    borderColor: '#C5C3C2',\n    justifyContent:\"center\",\n    padding:10\n  },\n  inputText:{\n    height:20,\n    color:\"black\"\n  },\n  forgot:{\n    color:\"#D83F68\",\n    fontSize:17,\n    marginTop: 10\n  },\n  loginBtn:{\n    width:\"80%\",\n    backgroundColor:\"#5ED666\",\n    height:40,\n    color:'white',\n    alignItems:\"center\",\n    justifyContent:\"center\",\n    marginTop:10,\n    marginBottom:10,\n    borderRadius: 6\n  },\n  SignUpBtn: {\n    width:\"80%\",\n    alignItems:\"center\",\n    justifyContent:\"center\",\n    marginBottom:0,\n    paddingTop: 20,\n    paddingBottom: 20,\n    marginTop: 40,\n    color:'white',\n    backgroundColor:\"white\",\n    borderRadius: 6,\n    backgroundColor:\"#D83F68\"\n  },\n  SignUpText: {\n    color:\"white\",\n    fontSize: 17\n  },\n  ImageLogo:{\n    width: '100%',\n    height: '45%',\n    marginBottom: \"10%\",\n    backgroundColor: 'white',\n    marginTop: 0\n  },\n  spinnerTextStyle: {\n    color: '#FFF'\n  },\n  modal : {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    marginTop: '23%'\n  },\n  modalContainer : {\n    backgroundColor : 'white',\n    width : '100%',\n    height : '30%',\n    justifyContent: 'center'\n  },\n  ActivityIndicatorStyle: {\n    flex: 1,\n    justifyContent: 'center',\n  }\n\n});\n"]},"metadata":{},"sourceType":"module"}